function cov_2e0cq6sg4(){var path="/Users/rasikh/Desktop/Tap testing/my-fastify-app/nodb-api/functions/deleteEntity/deleteController.js";var hash="320b2c0df2585b9bba2a89e66c09ebd188dbbf61";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rasikh/Desktop/Tap testing/my-fastify-app/nodb-api/functions/deleteEntity/deleteController.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:36}},"1":{start:{line:2,column:0},end:{line:24,column:2}},"2":{start:{line:3,column:2},end:{line:22,column:4}},"3":{start:{line:11,column:30},end:{line:11,column:63}},"4":{start:{line:12,column:21},end:{line:14,column:8}},"5":{start:{line:15,column:6},end:{line:19,column:7}},"6":{start:{line:16,column:22},end:{line:16,column:73}},"7":{start:{line:17,column:8},end:{line:17,column:27}},"8":{start:{line:18,column:8},end:{line:18,column:20}},"9":{start:{line:20,column:6},end:{line:20,column:39}},"10":{start:{line:23,column:2},end:{line:23,column:9}}},fnMap:{"0":{name:"todoRoutes",decl:{start:{line:2,column:26},end:{line:2,column:36}},loc:{start:{line:2,column:54},end:{line:24,column:1}},line:2},"1":{name:"deleteTodo",decl:{start:{line:10,column:19},end:{line:10,column:29}},loc:{start:{line:10,column:46},end:{line:21,column:5}},line:10}},branchMap:{"0":{loc:{start:{line:15,column:6},end:{line:19,column:7}},type:"if",locations:[{start:{line:15,column:6},end:{line:19,column:7}},{start:{line:15,column:6},end:{line:19,column:7}}],line:15}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"320b2c0df2585b9bba2a89e66c09ebd188dbbf61"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2e0cq6sg4=function(){return actualCoverage;};}return actualCoverage;}cov_2e0cq6sg4();const schemas=(cov_2e0cq6sg4().s[0]++,require("../schema"));cov_2e0cq6sg4().s[1]++;module.exports=function todoRoutes(app,opts,next){cov_2e0cq6sg4().f[0]++;cov_2e0cq6sg4().s[2]++;app.delete("/api/ghost/delete/:id",{schema:{params:schemas.todoIdSchema}},async function deleteTodo(request,reply){cov_2e0cq6sg4().f[1]++;const todosCollection=(cov_2e0cq6sg4().s[3]++,this.mongo.db.collection("users"));const result=(cov_2e0cq6sg4().s[4]++,await todosCollection.deleteOne({_id:this.mongo.ObjectId(request.params.id)}));cov_2e0cq6sg4().s[5]++;if(result.deletedCount===0){cov_2e0cq6sg4().b[0][0]++;const error=(cov_2e0cq6sg4().s[6]++,new Error("Object not found: "+request.params.id));cov_2e0cq6sg4().s[7]++;error.status=404;cov_2e0cq6sg4().s[8]++;throw error;}else{cov_2e0cq6sg4().b[0][1]++;}cov_2e0cq6sg4().s[9]++;return{id:request.params.id};});cov_2e0cq6sg4().s[10]++;next();};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzY2hlbWFzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJ0b2RvUm91dGVzIiwiYXBwIiwib3B0cyIsIm5leHQiLCJkZWxldGUiLCJzY2hlbWEiLCJwYXJhbXMiLCJ0b2RvSWRTY2hlbWEiLCJkZWxldGVUb2RvIiwicmVxdWVzdCIsInJlcGx5IiwidG9kb3NDb2xsZWN0aW9uIiwibW9uZ28iLCJkYiIsImNvbGxlY3Rpb24iLCJyZXN1bHQiLCJkZWxldGVPbmUiLCJfaWQiLCJPYmplY3RJZCIsImlkIiwiZGVsZXRlZENvdW50IiwiZXJyb3IiLCJFcnJvciIsInN0YXR1cyJdLCJzb3VyY2VzIjpbImRlbGV0ZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2NoZW1hcyA9IHJlcXVpcmUoXCIuLi9zY2hlbWFcIik7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRvZG9Sb3V0ZXMoYXBwLCBvcHRzLCBuZXh0KSB7XG4gIGFwcC5kZWxldGUoXG4gICAgXCIvYXBpL2dob3N0L2RlbGV0ZS86aWRcIixcbiAgICB7XG4gICAgICBzY2hlbWE6IHtcbiAgICAgICAgcGFyYW1zOiBzY2hlbWFzLnRvZG9JZFNjaGVtYSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBhc3luYyBmdW5jdGlvbiBkZWxldGVUb2RvKHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgICBjb25zdCB0b2Rvc0NvbGxlY3Rpb24gPSB0aGlzLm1vbmdvLmRiLmNvbGxlY3Rpb24oXCJ1c2Vyc1wiKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvZG9zQ29sbGVjdGlvbi5kZWxldGVPbmUoe1xuICAgICAgICBfaWQ6IHRoaXMubW9uZ28uT2JqZWN0SWQocmVxdWVzdC5wYXJhbXMuaWQpLFxuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0LmRlbGV0ZWRDb3VudCA9PT0gMCkge1xuICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcIk9iamVjdCBub3QgZm91bmQ6IFwiICsgcmVxdWVzdC5wYXJhbXMuaWQpO1xuICAgICAgICBlcnJvci5zdGF0dXMgPSA0MDQ7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgaWQ6IHJlcXVlc3QucGFyYW1zLmlkIH07XG4gICAgfVxuICApO1xuICBuZXh0KCk7XG59O1xuIl0sIm1hcHBpbmdzIjoiNnpEQWVZO3lGQWZaLEtBQU1BLFFBQU8seUJBQUdDLE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBYixDLHVCQUNBQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsUUFBU0MsV0FBVCxDQUFvQkMsR0FBcEIsQ0FBeUJDLElBQXpCLENBQStCQyxJQUEvQixDQUFxQywrQ0FDcERGLEdBQUcsQ0FBQ0csTUFBSixDQUNFLHVCQURGLENBRUUsQ0FDRUMsTUFBTSxDQUFFLENBQ05DLE1BQU0sQ0FBRVYsT0FBTyxDQUFDVyxZQURWLENBRFYsQ0FGRixDQU9FLGNBQWVDLFdBQWYsQ0FBMEJDLE9BQTFCLENBQW1DQyxLQUFuQyxDQUEwQyx3QkFDeEMsS0FBTUMsZ0JBQWUseUJBQUcsS0FBS0MsS0FBTCxDQUFXQyxFQUFYLENBQWNDLFVBQWQsQ0FBeUIsT0FBekIsQ0FBSCxDQUFyQixDQUNBLEtBQU1DLE9BQU0seUJBQUcsS0FBTUosZ0JBQWUsQ0FBQ0ssU0FBaEIsQ0FBMEIsQ0FDN0NDLEdBQUcsQ0FBRSxLQUFLTCxLQUFMLENBQVdNLFFBQVgsQ0FBb0JULE9BQU8sQ0FBQ0gsTUFBUixDQUFlYSxFQUFuQyxDQUR3QyxDQUExQixDQUFULENBQVosQ0FGd0MsdUJBS3hDLEdBQUlKLE1BQU0sQ0FBQ0ssWUFBUCxHQUF3QixDQUE1QixDQUErQiwyQkFDN0IsS0FBTUMsTUFBSyx5QkFBRyxHQUFJQyxNQUFKLENBQVUscUJBQXVCYixPQUFPLENBQUNILE1BQVIsQ0FBZWEsRUFBaEQsQ0FBSCxDQUFYLENBRDZCLHVCQUU3QkUsS0FBSyxDQUFDRSxNQUFOLENBQWUsR0FBZixDQUY2Qix1QkFHN0IsS0FBTUYsTUFBTixDQUNELENBSkQsZ0NBTHdDLHVCQVV4QyxNQUFPLENBQUVGLEVBQUUsQ0FBRVYsT0FBTyxDQUFDSCxNQUFSLENBQWVhLEVBQXJCLENBQVAsQ0FDRCxDQWxCSCxFQURvRCx3QkFxQnBEaEIsSUFBSSxHQUNMLENBdEJEIn0=